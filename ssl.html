<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Mar 16, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Async Http Client - Configuring SSL</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 60px;}</style>
    
      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
      <meta name="author" content="Jeanfrancois Arcand" />
    <meta name="Date-Revision-yyyymmdd" content="20120316" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
      
                        
                    
        <div id="topbar" class="topbar" data-dropdown="dropdown">
      <div class="topbar-inner">
                <div class="container">
                
          <ul>
                        <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">User guide</a>
        <ul class="dropdown-menu">
                      <li>      <a href="request.html"  title="Executing request">Executing request</a>
</li>
                      <li>      <a href="configuring.html"  title="Configuring the AsyncHttpClient">Configuring the AsyncHttpClient</a>
</li>
                      <li>      <a href="ssl.html"  title="SSL">SSL</a>
</li>
                      <li>      <a href="filters.html"  title="Using Filters">Using Filters</a>
</li>
                      <li>      <a href="upload.html"  title="Uploading file">Uploading file</a>
</li>
                      <li>      <a href="auth.html"  title="Authentication">Authentication</a>
</li>
                      <li>      <a href="proxy.html"  title="Proxy">Proxy</a>
</li>
                      <li>      <a href="providers.html"  title="Switching Provider">Switching Provider</a>
</li>
                      <li>      <a href="webdav.html"  title="Using the WebDav protocol">Using the WebDav protocol</a>
</li>
                      <li>      <a href="resumable-download.html"  title="Resumable Dowload">Resumable Dowload</a>
</li>
                      <li>      <a href="transfer-listener.html"  title="TransferListener">TransferListener</a>
</li>
                      <li>      <a href="zero-bytes-copy.html"  title="Zero Bytes Copy">Zero Bytes Copy</a>
</li>
                      <li>      <a href="performances.html"  title="Improve raw performance">Improve raw performance</a>
</li>
                      <li>      <a href="oauth.html"  title="OAuth">OAuth</a>
</li>
                  </ul>
      </li>
                <li class="dropdown" data-dropdown="dropdown" >
        <a href="#" class="dropdown-toggle">Project Documentation</a>
        <ul class="dropdown-menu">
                      <li>      <a href="project-info.html"  title="Project Information">Project Information</a>
</li>
                      <li>      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
</li>
                  </ul>
      </li>
                </ul>
          
                        
        
        
        <ul class="nav secondary-nav"><li>
    
    <a href="https://twitter.com/jfarcand" class="twitter-follow-button" data-show-count="true" data-align="right" data-size="large" data-show-screen-name="true" data-lang="en">Follow jfarcand</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </li></ul>
                
                  </div>
      </div>
    </div>
    
        <div class="container">
          
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 16 March 2012</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.8.0-SNAPSHOT</li>
                      
                
                    
      
                  </ul>
      </div>

      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <div class="section"><h2>Configuring SSL<a name="Configuring_SSL"></a></h2><p>Configuring the library to support SSL is simple. By default you don't have to configure anything if you don't need to use your own certificates etc.</p><div class="source"><pre class="prettyprint">AsyncHttpClient client = new AsyncHttpClient();
Response response = client.prepareGet((&quot;https://sonatype.com&quot;).execute().get();</pre></div><p>The library will detect it's an SSL request and appropriately locate the key store, trust store etc. If you need to configure those objects, all you need to do is to create an <tt>SSLContext</tt> and set it using the <tt>AsyncHttpClient</tt>'s Builder as showed below:</p><div class="source"><pre class="prettyprint">InputStream keyStoreStream = ....
char[] keyStorePassword = &quot;changeit&quot;.toCharArray();
KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);
ks.load(keyStoreStream, keyStorePassword);

char[] certificatePassword = &quot;changeit&quot;.toCharArray();
KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);
kmf.init(ks, certificatePassword);

KeyManager[] keyManagers = kmf.getKeyManagers();
TrustManager[] trustManagers = new TrustManager[]{DUMMY_TRUST_MANAGER};
SecureRandom secureRandom = new SecureRandom();

SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);
sslContext.init(keyManagers, trustManagers, secureRandom);
Builder builder = new AsyncHttpClientConfig.Builder();
builder.setSSLContext(myOwnThreadPool);
AsyncHttpClient client = new AsyncHttpClient(builder.build());</pre></div></div>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container">
              <div class="row span16">Copyright &copy;                   2012.
          All Rights Reserved.      
                    
      </div>

        
                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
        
                </div>
    </footer>
  </body>
</html>
